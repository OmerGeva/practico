
<h2>Check In!</h2>
<%= simple_form_for [challenge, check_in] do |f| %>

  <% if challenge.validation_type == 'checkbox' %>
    <%= f.input :completed, as: :radio_buttons, label: "I worked toward this goal today!" %>
  <% else %>
    <div>
      <p>Set a timer (hours)</p>
      <div class="pb-5">
        <input type="number" id="numHours">
        <div class="d-flex">
          <div id="hider">
            <p id="start" class="d-inline-block btn btn-primary m-2">start</p>
          </div>
            <p id="stop" class="d-inline-block btn btn-primary m-2">stop</p>
        </div>
      </div>
      <div class="d-none">
        <%= f.input :duration %>
      </div>
    </div>

    <div class="single-chart">
          <svg viewBox="0 0 36 36" class="circular-chart green">
            <path class="circle-bg"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <path class="circle" id="timer-circle"
              stroke-dasharray="0, 100"
              d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
            />
            <text x="18" y="20.35" class="percentage" id= "timer"></text>
          </svg>
        </div>
  <% end %>

  <% if challenge.photo_proof %>
    <%= image_tag "", width: 300, class: "hidden", id: "photo-preview" %>
    <%= f.input :photo, input_html: { class: 'hidden d-none', id: 'photo-input'}, label_html: { class: 'upload-photo btn btn-primary btn-custom'}, label: 'ðŸ“· Upload a photo' %>
    <%= f.input :photo_cache, as: :hidden %>
  <% end %>

  <%= f.submit "Check In", class: "btn btn-primary" %>
<% end %>
